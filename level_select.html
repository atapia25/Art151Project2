<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Villains are on the loose!</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="styles.css">
        <style>
            img
            {
                z-index: -1;
            }

        </style>
    </head>
    <body>
        <center>
            <script>
                function goblinClicked()
                {
                    document.getElementById('green_goblinId').onclick = "";
                }
            </script>
            <h1 style="color:gold">
                Which villain do you want to take on first?
            </h1>
            <div>
                <a id="green_goblinId" href="green_goblin/stage_one.html">
                    <img id="green_goblin" src="media/green goblin.jpg" style="margin:10px 10px 10px 10px" alt="gg" width="338" height="432">
                </a>
                <a id="doctor_octopusId" href = "doctor_octopus/stage_one.html">
                    <img id="doctor_octopus" src="media/doctor octopus.jpg" style="margin:10px 10px 10px 10px" alt="doc_ock" width="338" height="432">
                </a>
                <a id="venomId" href = "venom/stage_one.html">
                    <img id="venom" src="media/venom.png" style="margin:10px 10px 10px 10px" alt="venom" width="338" height="432">
                </a>
            </div>
            <button type="button" id="endingButton" onclick="decideEnding()" href="">Go Back to Work</button></a>
        </center>
    </body>
    <script>
        var goblin = localStorage.getItem("villain1");
        if(goblin == "true")
        {
            console.log("true");
            document.getElementById("green_goblinId").removeAttribute("href");
            document.getElementById("green_goblin").src = "media/green_goblin_grey.jpg";
        }
        var octopus = localStorage.getItem("villain2");
        if(octopus == "true")
        {
            console.log("true");
            document.getElementById("doctor_octopusId").removeAttribute("href");
            document.getElementById("doctor_octopus").src = "media/doctor octopus_grey.jpg";
        }
        var venom = localStorage.getItem("villain3");
        if(venom == "true")
        {
            console.log("true");
            document.getElementById("venomId").removeAttribute("href");
            document.getElementById("venom").src = "media/venom_grey.png";
        }
        function decideEnding()
        {
            var goblinPhotos = localStorage.getItem("goblinPhoto");
            var octopusPhotos = localStorage.getItem("octopusPhoto");
            var venomPhotos = localStorage.getItem("venomPhoto");
            if(goblinPhotos == "false" && octopusPhotos == "false" && venomPhotos == "false")
            {
                //if the player just goes back to work without any pictures
                location.href = "ending_one.html";
            }
            else if (goblinPhotos == "true")
            {
                if(octopusPhotos == "true")
                {
                    if(venomPhotos == "true")
                    {
                        //all three photos have been taken
                        location.href = "ending_four.html";
                    }
                    else
                    {
                        //just two of the photos have been taken
                        location.href = "ending_three.html";
                    }
                }
                else if (venomPhotos == "true")
                {
                    if(octopusPhotos == "true")
                    {
                        //all three photos have been taken
                        location.href = "ending_four.html";
                    }
                    else
                    {
                        //just two of the photos have been taken
                        location.href = "ending_three.html";
                    }
                }
                else
                {
                    location.href = "ending_two.html";
                }
            }
        }
        console.log(window);
    </script>
</html>